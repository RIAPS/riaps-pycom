// RIAPS 1 publisher N subscriber test

app test_1_N_local {
    message SensorValue;

    component TemperatureSensor(logfile="") {
      timer clock 1000; 							// Periodic timer trigger to trigger sensor every 1 sec
      pub sendTemperature : SensorValue ;			// Publish port for SensorReady messages
    }

    component Collector(logfile="") {
      sub getTemperature : SensorValue ;			// Subscriber port to trigger component with SensorValue messages
    }

    actor ActorTest1Np_loc(logfile="") {
          local SensorValue ;
          {
            sensor     : TemperatureSensor(logfile = logfile);
          }
    }

    actor ActorTest1Ns_A_loc(logfile="") {
          local SensorValue ;
          {
             collector : Collector(logfile = logfile);
          }
    }

    actor ActorTest1Ns_B_loc(logfile="") {
          local SensorValue ;
          {
             collector : Collector(logfile = logfile);
          }
    }

    actor ActorTest1Ns_C_loc(logfile="") {
          local SensorValue ;
          {
             collector : Collector(logfile = logfile);
          }
    }
}
