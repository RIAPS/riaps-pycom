
app testTiming {
    message m1;
    message m2;
    message m3;

    // Periodically sends 100bytes
    component Repeater {
      timer clock 10;
      pub sendArray : m1;
      sub getResults : m3;
    }

    // Gets the m1 message, computes a new value and forwards to the last component
    component Forwarder {
      sub getArray  : m1 ;
      pub sendArray : m2 ;
    }

    component Final {
        sub getArray      : m2 ;
        pub returnResults : m3;
    }

    actor ActorRepeater {
        {
            repeater: Repeater;
        }
    }

    actor ActorForwarder {
        {
            forwarder: Forwarder;
        }
    }

    actor ActorFinal {
        {
            final : Final;
        }
    }
}
