RIAPS - Mininet
---------------
- This is for riaps developers - NOT for APP developers - 

To run the riaps tools on mininet:

The ssh public key needs to be installed in ~/.ssh as the app files are 
transferred using sftp from the virtual CTRL node to the virtual SLAVE nodes.
To add the public key:
  cat src/ssh/id_rsa.pub >>~/.ssh/authorized_keys
Make sure that authorized_keys has permissions set 644, and the ~/.ssh folder has 755.

On the shell:
 source setup		# Sets up environment variables
 bin/riaps.mn		# Starts up mininet with topo=single,4 and sshd on each node
 
At the mn prompt:
# Starts up the RIAPS Controller on the lead node (h1) (registry,dbase,ctrl)
  h1 xterm -e bin/riaps-mn.ctrl	& 
# Starts up the RIAPS Deployment Manager on host hX (X = 2,3,4)
  hX xterm -e bin/riaps-mn.node & 


*** mininet with DNS ***
If the deployment model has DNS names for the mininet nodes (instead of the default IP addresses:
10.0.0.[1-4]) a local DNS server can be used on the virtual network. Launching the controller start script
   bin/riaps-mn-dns.ctrl 
on the first node (h1) will reconfigure the DNS resolver by switching to a custom /etc/resolv.conf file. 
This script also starts a small DNS server configured for the following DNS names and IP addresses: 
ctrl.:10.0.0.1
bbb1.:10.0.0.2
bbb2.:10.0.0.3
bbb3.:10.0.0.4
If this script is used, the deployment models can use the names: ctrl. , bbb1. , bbb2. , bb3. instead of the 
IP addresses. 
 
If the controller program crashes then the original DNS resolver configuration must be restored as follows:
 sudo mv /etc/resolv.conf.org /etc/resolv.conf

If the controller terminates correctly, the script will automatically restores this.
  